{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pascal/test/Portfolio/project1/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Link, Route, Redirect, useLocation } from \"react-router-dom\";\nconst fakeAuth = {\n  isAuthenticated: false,\n\n  authenticate(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100);\n  },\n\n  signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n\n};\n\nconst Public = () => /*#__PURE__*/_jsxDEV(\"h3\", {\n  children: \"public\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 21\n}, this);\n\n_c = Public;\n\nconst Protected = () => /*#__PURE__*/_jsxDEV(\"h3\", {\n  children: \"Protected\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 24\n}, this);\n\n_c2 = Protected;\n\nfunction Login() {\n  _s();\n\n  const [redirectToReferrer, setRedirectToReferrer] = useState(false);\n  const {\n    state\n  } = useLocation();\n\n  const login = () => fakeAuth.authenticate(() => {\n    setRedirectToReferrer(true);\n  });\n\n  if (redirectToReferrer === true) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: (state === null || state === void 0 ? void 0 : state.from) || \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 43\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You must log in to view the page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: login,\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"CUlk3wCcB9vmD47BFV8VH7v5X98=\", false, function () {\n  return [useLocation];\n});\n\n_c3 = Login;\n\nfunction PrivateRoute({\n  children,\n  ...rest\n}) {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => {\n      return fakeAuth.isAuthenticated === true ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/login\",\n          state: {\n            from: location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = PrivateRoute;\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/public\",\n            children: \"Public Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/protected\",\n            children: \"Protected Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/public\",\n        component: Public\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        component: Login\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n        path: \"/protected\",\n        children: /*#__PURE__*/_jsxDEV(Protected, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_c5 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Public\");\n$RefreshReg$(_c2, \"Protected\");\n$RefreshReg$(_c3, \"Login\");\n$RefreshReg$(_c4, \"PrivateRoute\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"sources":["/Users/pascal/test/Portfolio/project1/src/App.tsx"],"names":["React","useState","BrowserRouter","Router","Link","Route","Redirect","useLocation","fakeAuth","isAuthenticated","authenticate","cb","setTimeout","signout","Public","Protected","Login","redirectToReferrer","setRedirectToReferrer","state","login","from","PrivateRoute","children","rest","location","pathname","App"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {BrowserRouter as Router, Link, Switch, Route, Redirect, useLocation} from \"react-router-dom\"\n\nconst fakeAuth = {\n  isAuthenticated: false,\n  authenticate(cb: Function){\n    this.isAuthenticated = true;\n    setTimeout(cb, 100)\n  },\n  signout(cb : Function){\n    this.isAuthenticated = false;\n    setTimeout(cb, 100)\n  },\n}\n\nconst Public = ()=> <h3>public</h3>\nconst Protected = ()=> <h3>Protected</h3>\n\nfunction Login(){\n  const [\n    redirectToReferrer,\n    setRedirectToReferrer\n  ] = useState(false)\n\n  const { state } : any  = useLocation()\n\n  const login = () => fakeAuth.authenticate(() => {\n    setRedirectToReferrer(true)\n  })\n\n  if (redirectToReferrer === true) return <Redirect to={ state?.from || \"/\"}/>\n  return(\n    <div>\n      <p>You must log in to view the page</p>\n      <button onClick={login}>Log in</button>\n    </div>\n  )\n}\n\ninterface props {\n  children : any\n  path : any\n}\n\nfunction PrivateRoute({children , ...rest} : props){\n  return (\n    <Route {...rest} render={({location}) => {\n      return fakeAuth.isAuthenticated === true\n      ? children :\n      <Redirect to={{\n        pathname :\"/login\",\n        state : {from : location}\n      }}\n      />\n    }}\n    />\n    \n  )\n}\n\n\n\nfunction App() {\n\n  return (\n    <Router>\n      <div>\n        <ul>\n          <li><Link to=\"/public\">Public Page</Link></li>\n          <li><Link to=\"/protected\">Protected Page</Link></li>\n        </ul>\n        <Route path=\"/public\" component={Public}/>\n        <Route path=\"/login\" component={Login}/>\n        <PrivateRoute path=\"/protected\">\n          <Protected/>\n        </PrivateRoute>\n        \n      </div>\n    </Router>\n  )\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}